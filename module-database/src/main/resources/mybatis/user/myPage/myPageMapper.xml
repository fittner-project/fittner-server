<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.fittnerserver.mapper.user.myPage.MyPageMapper">
    <select id="getSalesInfo" resultType="SalesInfoResDto">
        /* MyPageMapper.getSalesInfo */
        select (select CAST(IFNULL(sum(trainer_settlement_amount),0) as SIGNED)
                  from reservation
                 where trainer_id = #{trainerId}
                   and reservation_start_date = #{reservationStartDate}) as projection_sales
             , (select CAST(IFNULL(sum(trainer_settlement_amount),0) as SIGNED)
                  from reservation
                 where trainer_id = #{trainerId}
                   and reservation_status in ('SIGN','WATING')
                   and reservation_start_date = #{reservationStartDate}) as now_sales
         from dual
    </select>


</mapper>








